# 作用域
> 变量的有效范围。

## 如何检测变量的有效范围
- 在指定的作用域下访问该变量，如果不报错，就证明这个变量的有效范围覆盖了这个作用域。

## 全局变量
- 指的是在代码的任何地方都可以使用的变量

## 在js中如何定义全局变量
- 在函数外定义
- 或者不使用var定义的变量(这种方式不标准，尽量不要使用)

## 局部变量
- 在变量定义的局部可以使用的变量

## 在js中如何定义局部变量
- 在函数内定义

## 变量的生命周期
- 全局变量的生命周期从定义开始，到页面关闭结束
- 局部变量的生命周期通常是从定义开始(函数被调用)，到函数执行完毕结束(但是局部变量的生命周期可能因为闭包的存在被延长)

## 块级作用域 ==> js未采纳
- 凡是代码块就可以产生新的作用域，代码块内的变量外界无法使用。

## 函数作用域  ==> js采纳
- 只有函数可以产生新的作用域，函数内的变量外界无法使用。
- js中是没有块级作用域的，只有函数作用域。

## 词法作用域(静态作用域) ==> js采纳
- 查找一个变量，优先找函数自己作用域内的变量，找不到就去定义该函数的作用域中去找，
按照这个规则直到全局都没有找到，就报错。

## 动态作用域 ==> js未采纳
- 查找一个变量，优先找函数自己作用域内的变量，找不到就去调用该函数的作用域中去找，
按照这个规则直到全局都没有找到，就报错。

## 有一个容易搞混，又没有什么联系的知识点，这里强调一下
- 函数内的this，与函数的定义无关，与调用有关。
```javascript
var obj = {
	fn: function() { console.log(this) };
};
var fn = obj.fn;

// 同一个fn，三种调用方式，this分别不同
obj.fn(); // obj
fn();     // window
new fn(); // fn实例
```
- 变量的查找，与函数的定义有关，与调用无关。
```javascript
function fn() {
	console.log(a); // 报错，自己找不到，去定义fn的全局找，所以这里和fn的定义有关，与fn的调用无关。
}
(function() {
	var a = 10;
	fn();
})();
```

## 作用域的产生
- 函数可以被多次重复调用，调用一次就会产生一个新的作用域，每一个新作用域内会有新的变量。

## 作用域链
- 函数在定义的时候，将来它执行时的上级作用域就被确定好了，上级作用域可能还有上级，函数所有的上级作用域称之为作用域链。
- 一个函数作用域可以访问的所有上级作用域，称为它的作用域链。

# 预解析 
