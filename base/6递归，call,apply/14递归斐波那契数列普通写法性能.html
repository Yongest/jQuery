<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			
			var total = 0;
			function fabnacci(n) {
				total++;
				if(n == 0 || n == 1) {
					return 1;
				}else{
					return fabnacci(n - 2) + fabnacci(n - 1);
				}
			}
			console.log(fabnacci(5));
			console.log(total);
			
			/*--------------------是缓存的方式优化上面的代码-------------------*/
			
			// 缓存 ==> 就是把一些经常使用的数据进行存储，这些数据可能来之不宜，
			// 下次要使用这些数据的话，直接走缓存即可，会比较块一些。
			
			// 一旦我们把斐波那契数列的值缓存了下来，那么接下来的重复性计算只需要一次即可。
//			var fabCache = [1, 1, 2, 3, 5, 8, 13];
//			function fabnacci(n) {
//				if(fabCache[n]) {
//					return fabCache[n];
//				}
//			}
			
			/*--------------------------缓存优化代码---------------------------*/
			
//			var total = 0;
//			var fabCache = [];
//			function fabnacci(n) {
//				total++;
//				
//				// 如果缓存过了，直接走缓存即可
//				if(fabCache[n]) {
//					return fabCache[n];
//				}
//				
//				// 如果之前没有缓存过，先把计算好的值缓存，再返回
//				// 那下次遇到同样的计算，直接走缓存即可。
//				if(n == 0 || n == 1) {
//					fabCache[n] = 1;
//				}else{
//					fabCache[n] = fabnacci(n - 2) + fabnacci(n - 1);
//				}
//				return fabCache[n];
//			}
//			
//			console.log(fabnacci(5));
//			console.log(total);
		</script>
	</body>
</html>
